"use strict";(self.webpackChunkltcgi=self.webpackChunkltcgi||[]).push([[600],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),h=r,g=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return n?a.createElement(g,i(i({ref:t},c),{},{components:n})):a.createElement(g,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},8676:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:8},i="7\ufe0f\u20e3 Basic Toggle",l={unversionedId:"Getting Started/Setup/Basic_Toggle",id:"Getting Started/Setup/Basic_Toggle",title:"7\ufe0f\u20e3 Basic Toggle",description:"For venues or other performance-heavy scenes, it might make sense to allow your users to disable LTCGI if they want.",source:"@site/docs/Getting Started/Setup/Basic_Toggle.md",sourceDirName:"Getting Started/Setup",slug:"/Getting Started/Setup/Basic_Toggle",permalink:"/Getting Started/Setup/Basic_Toggle",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"6\ufe0f\u20e3 Realtime Video",permalink:"/Getting Started/Setup/Realtime_Video"}},s={},p=[{value:"Example Script",id:"example-script",level:2},{value:"Material Swapping",id:"material-swapping",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"7\ufe0f\u20e3-basic-toggle"},"7\ufe0f\u20e3 Basic Toggle"),(0,r.kt)("p",null,"For venues or other performance-heavy scenes, it might make sense to allow your users to disable LTCGI if they want."),(0,r.kt)("p",null,"To do so, the ",(0,r.kt)("a",{parentName:"p",href:"/Advanced/Udon_Sharp_API"},"UdonSharp API")," has a function ",(0,r.kt)("inlineCode",{parentName:"p"},"_SetGlobalState(bool)")," that you can use to enable or disable LTCGI at will. This function is somewhat heavy and shouldn't be called per-frame, but cheap enough that you can use it directly on user input (e.g. UI toggles or ",(0,r.kt)("inlineCode",{parentName:"p"},"Interact"),")."),(0,r.kt)("p",null,"The LTCGI unitypackage contains an example script (also listed below) that shows how to use this. Note that because the function has a parameter, it can not be called from Udon-Graph at this time."),(0,r.kt)("p",null,"You can find a ",(0,r.kt)("strong",{parentName:"p"},"prefab")," using this toggle on an interactable cube in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Packages/LTCGI")," folder called ",(0,r.kt)("inlineCode",{parentName:"p"},"LTCGI Global Toggle Example.prefab"),". This can also be used to start LTCGI in disabled state."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f Note that disabling GameObjects or components with a screen or emitter on them is ",(0,r.kt)("strong",{parentName:"p"},"not supported"),", neither in editor nor in-game!")),(0,r.kt)("h2",{id:"example-script"},"Example Script"),(0,r.kt)("p",null,"(this is written with VRChat Udon in mind, but can easily be translated to standalone)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using UdonSharp;\n\n// NOTE: This script has to reference the "LTCGI_AssemblyUdon" to allow it to use the "LTCGI_UdonAdapter" type!\n\n[UdonBehaviourSyncMode(BehaviourSyncMode.None)]\npublic class LTCGI_ExampleToggle : UdonSharpBehaviour\n{\n    // set this to your controller object (specifically the adapter object):\n    public LTCGI_UdonAdapter Adapter;\n\n    // set this however you want:\n    public bool StartingState = true;\n    private bool state;\n\n    void Start()\n    {\n        state = StartingState;\n        Adapter._SetGlobalState(state);\n    }\n\n    // you can make this a UI event as well!\n    public override void Interact()\n    {\n        state = !state;\n        Adapter._SetGlobalState(state);\n    }\n}\n')),(0,r.kt)("p",null,"Put this script on an object with a collider (e.g. default sphere or cube) and click it in VRChat to toggle LTCGI."),(0,r.kt)("h2",{id:"material-swapping"},"Material Swapping"),(0,r.kt)("p",null,"Another way of doing this is to simply material-swap all objects that have an LTCGI-enabled shader on them to a version that has LTCGI disabled. This will remove GPU overhead entirely, although the difference will be minor."),(0,r.kt)("p",null,"It is also possible to toggle LTCGI related keywords and shader properties at runtime, although this will require ensuring that all necessary variants are bundled with the world. This is only recommended for advanced users."))}u.isMDXComponent=!0}}]);